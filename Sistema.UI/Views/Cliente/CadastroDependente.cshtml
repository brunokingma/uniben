

@{
    ViewBag.Title = "Cadastro Dependente";
}


<ol class="breadcrumb">
    <li><a href="/Home/Index">Principal</a></li>
    <li class="active">Vincular dependentes</li>
</ol>

<div class="container" style="margin-top:20px;">

    <div class="row">
        <div class="widget widget-gray">
            <!-- TYPE PANEL -->
            <div class="widget-head">
                <!-- HEAD PANEL -->
                <h4 class="heading"><i class="fa fa-archive"></i> Cadastro de dependentes</h4>
            </div><!-- /HEAD PANEL -->

            <div class="widget-body" id="widget-body1">
                <!-- CONTENT PANEL -->

                <h4>Dados pessoais</h4>
                <hr class="style4" />

                <form>

                    <div class="form-group col-md-10">
                        <label for="busca">Nome associado</label>
                        <input type="text" class="form-control" id="busca" placeholder="Nome associado">
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="exampleSelect1">Filtra busca por</label>
                            <select class="form-control" id="filtro">
                                <option value="nome">Nome</option>
                                <option value="cpf">CPF</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-md-8">
                        <label for="nome">Nome completo</label>
                        <input type="text" class="form-control" id="nome" placeholder="Nome completo">
                    </div>


                    <div class="form-group col-md-4">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Email">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="telefone">Telefone</label>
                        <input type="text" class="form-control telefone" id="telefone" placeholder="Telefone">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="cpf">CPF</label>
                        <input type="text" class="form-control cpf" id="cpf" placeholder="CPF">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="rg">RG</label>
                        <input type="text" class="form-control" id="rg" placeholder="RG">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="civil">Estado civil</label>
                        <select class="custom-select form-control" id="civil">
                            <option selected>Escolha uma opção</option>
                            <option value="1">Solteiro</option>
                            <option value="2">Casado</option>
                            <option value="3">Viúvo</option>
                        </select>
                    </div>

                    <div class="form-group col-md-3">
                        <label for="nascimento">Data de nascimento</label>
                        <input type="text" class="form-control data" id="nascimento" placeholder="Data de nascimento">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="sexo">Sexo</label>
                        <select class="custom-select form-control decorated " id="sexo">
                            <option selected>Escolha uma opção</option>
                            <option value="1">Masculino</option>
                            <option value="2">Feminino</option>
                        </select>
                    </div>

                    <div class="form-group col-md-3">
                        <label for="naturalidade">Naturalidade</label>
                        <input type="text" class="form-control" id="naturalidade" placeholder="Naturalidade">
                    </div>


                    <div class="form-group col-md-3">
                        <label for="sus">Cartão SUS</label>
                        <input type="text" class="form-control" id="sus" placeholder="Cartão SUS">
                    </div>

                    <div class="form-group col-md-6">
                        <label for="mae">Nome da mãe</label>
                        <input type="text" class="form-control" id="mae" placeholder="Nome da mãe">
                    </div>

                    <div class="form-group col-md-6">
                        <label for="pai">Nome do pai</label>
                        <input type="text" class="form-control" id="pai" placeholder="Nome do pai">
                    </div>

                    <div class="form-group col-md-3">
                        <label for="parentesco">Parentesco</label>
                        <select class="custom-select form-control decorated " id="parentesco">
                            <option selected>Escolha uma opção</option>
                            <option value="filho">Filho</option>
                            <option value="irma">Irmã</option>
                            <option value="companheiro">Companheiro</option>
                            <option value="enteado">Enteado</option>
                            <option value="esposo">Esposo</option>
                            <option value="cunhado">Cunhado</option>
                            <option value="genro">Genro</option>
                            <option value="madastra">Madastra</option>
                            <option value="mae">Mãe</option>
                            <option value="nora">Nora</option>
                            <option value="neto">Neto</option>
                            <option value="padastro">Padastro</option>
                            <option value="Tio">Tio</option>
                            <option value="pai">Pai</option>
                            <option value="primo">Primo</option>
                            <option value="sobrinho">Sobrinho</option>
                        </select>
                    </div>

                    <div class="form-group col-md-4 offset-md-5" style="margin-top:25px;">
                        <input type="checkbox" name="Isento de mensalidade" id="isento" autocomplete="off" />
                        <div class="btn-group">
                            <label for="isento" class="btn btn-default">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span> </span>
                            </label>
                            <label for="isento" class="btn btn-default active">
                                Isento de mensalidade
                            </label>
                        </div>
                    </div>
                    <hr class="style4">

                    <h4>Produtos</h4>
                    <hr class="style4">

                    <div class="form-group col-md-12">

                        <div class="form-group col-md-3">
                            <label for="produto">Produtos</label>
                            <select class="form-control" id="produto">
                                <option value="1">produto01</option>
                                <option value="2">produto02</option>
                                <option value="3">produto03</option>
                                <option value="4">produto04</option>
                            </select>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="desconto">Desconto</label>
                            <input type="text" class="form-control" id="desconto" placeholder="Desconto">
                        </div>

                        <div class="form-group col-md-3">
                            <label for="vigencia">Vigência</label>
                            <input type="date" class="form-control" id="vigencia" placeholder="Vigência">
                        </div>

                        <div class="form-group col-md-2">
                            <label for="cobranca">Tipo de Cobrança</label>
                            <select class="form-control" id="cobranca">
                                <option value="1">a</option>
                                <option value="2">b</option>
                                <option value="3">c</option>
                                <option value="4">d</option>
                            </select>
                        </div>

                        <div class="form-group col-md-1">
                            <label for="btAdd">Adicionar</label>
                            <button type="button" id="btAdd" class="btn btn-primary btn-sm " style="margin-left:10px;">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <hr class="style4">
                    <div class="form-group col-md-12">
                        <div class="well" id="well">

                        </div>
                    </div>

                <span class="clear"></span>

            </div><!-- /CONTENT PANEL -->

            <div class="widget-footer">
                <!-- FOOTER PANEL-->
                   <a href="#" id="toggle1" class="fa fa-chevron-up fa-1x" title="" ><i></i></a>
            </div><!-- /FOOTER PANEL-->

        </div> <!-- /TYPE PANEL -->

    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="Janela" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Painel de confimação</h4>
            </div>
            <div class="modal-body text-center">
                Deseja realmente salvar o cadastro?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                <button type="button" class="btn btn-primary">Salvar</button>
            </div>
        </div>
    </div>
</div>


<!-- Como a navegação recarrega a pagina esse script tem que ser usada em cada view -->
@section Scripts {
    <script type="text/javascript">

        $("#filtro").on("change", function () {

            if ($(this).val() == 'nome') {
                $("#busca").unmask();
            } else {
                $("#busca").mask("999.999.999-99");

            }
        });

        $('.nav-pills li:eq(1) a').tab('show');
        $(".data").mask("99/99/9999", { placeholder: "dd/mm/yyyy" });
        $(".telefone").mask("(999) 9999-9999");
        $(".cpf").mask("999.999.999-99");
        $(".cep").mask("999999-999");


        $("#btAdd").on("click", function () {

            var produto = $("#produto").val();
            var desconto = $("#desconto").val();
            var cobranca = $("#cobranca").val();
            var vigencia = $("#vigencia").val();
            var produto_text = $("#produto option:selected").text();
            var jsonObj = { "produto": produto, "desconto": desconto, "vigencia": vigencia, "cobranca": cobranca };


            var botao = ' <div class="btn-group">'
                                + '<button class="btn btn-mini">' + produto_text + '</button>'
                                + '<button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">'
                                + '<span class="caret"></span>'
                                + '</button>'
                                + '<ul class="dropdown-menu">'
                                + '<li><a href="javascript:void(0)" onclick="excluirProduto(this)" rel=\'' + jsonObj + '\'>Excluir</a></li>'
                                + '</ul>'
                        + '</div> ';


            if (produto != "" && vigencia != "" && cobranca != "") {
                $(".well").append(botao);
            }

        });


        function excluirProduto(elemento) {
            elemento.parentElement.parentElement.parentElement.remove();
        }

    </script>
}
